{% extends "base.html" %}
{% load ckdjango_tags ckbootstrap_tags %}

{% block content %}

<div class="container-fluid py-4">
  <div class="row">
    <div class="col-4 col-md-3 col-lg-2">
      {% include "logbooks/include/filters.html" with tags=self.relevant_tags %}
    </div>
    <div class="col">
      <div class="mb-5">
        <h1 class="col">Logbooks</h1>
        <div>
          {% if tag_filter %}
          <div
            class="font-monospace text-uppercase badge rounded-pill m-1 p-1 link-reset bg-white fs-7"
          >
            {{ tag_filter }}
          </div>
          {% endif %}
        </div>
      </div>
      {% include "logbooks/include/masonry.html" with contents=child_page_list class="compact" %}
    </div>
  </div>
</div>

{% endblock %}

<!-- The masonry component doesn't get on with the flex: 1 we usually stick at the bottom of the page -->
{% block spacer %}
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4/dist/masonry.pkgd.min.js" crossorigin="anonymous"></script>
{% endblock %}
