{% extends "base.html" %}
{% load ckdjango_tags ckbootstrap_tags wagtailcore_tags %}

{% block content %}
<main class='container-fluid' style='max-width: 680px;'>
  <div class='row row-cols-1 gx-0'>
    <header class='col row mt-0 gy-3 gx-0'>
      <h1 class='mt-6'>{{self.title}}</h1>
      <div>
        <span class='fs-7 align-baseline'>Entries tagged</span>
        {% for tag in self.tags.all %}
          {% include 'logbooks/tag_label.html' with tag=tag %}
          {% if not forloop.last %}
            <span class='fs-7 align-baseline'>or</span>
          {% endif %}
        {% endfor %}
      </div>
      {% if self.description %}
      <div class='border-start border-dark ps-3 child-mb-0 lh-base'>
        {{self.description|richtext}}
      </div>
      {% endif %}
    </header>

    <section class='col container gx-0 py-6'>
      <div class='row row-cols-1 gx-0 gy-6'>
      {% for entry in child_list_page %}
        <div class="col">
          {{entry.content_html}}
        </div>
      {% endfor %}
      </div>
    </section>
  </div>
</main>
{% endblock %}

<!-- The masonary component doesn't get on with the flex: 1 we usually stick at the bottom of the page -->
{% block spacer %}
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4/dist/masonry.pkgd.min.js" crossorigin="anonymous"></script>
{% endblock %}