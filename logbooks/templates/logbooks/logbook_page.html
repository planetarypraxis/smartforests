{% extends "base.html" %}
{% load ckdjango_tags ckbootstrap_tags wagtailcore_tags %}

{% block content %}
<main class="container-fluid" style="max-width: 700px;">
  <div class="row row-cols-1 gx-0">
    <header class="col row mt-0 gy-3 gx-0">
      <h1 class="mt-6">{{self.title}}</h1>
      {% if self.description %}
      <div class="bg-white rounded-1 p-3">
        {{self.description|richtext}}
      </div>
      {% endif %}
    </header>
    <section class="col container gx-0 py-7">
      <div class="row row-cols-1 gx-0 gy-6">
      {% for entry in child_page_list %}
        <div class="col">
          {{entry.content_html}}
        </div>
      {% endfor %}
      </div>
    </section>
  </div>
</main>
{% endblock %}

<!-- The Masonry component doesn't get on with the flex: 1 we usually stick at the bottom of the page -->
{% block spacer %}
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/infinite-scroll@3/dist/infinite-scroll.pkgd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4/dist/masonry.pkgd.min.js" crossorigin="anonymous"></script>
{% endblock %}